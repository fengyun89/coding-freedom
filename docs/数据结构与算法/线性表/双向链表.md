# 双向链表

```js
export default class DoublyLinkedList {
    #head = null;

    // 向线性表头部添加元素
    unshift(element) {
        this.insert(0, element)
    }

    // 向线性表尾部添加元素
    push(element) {
        this.insert(this.size(), element)
    }

    // 向线性表指定位置添加元素
    insert(position, element) {
        if (position > this.size()) return;
        const newNode = {
            data: element,
            next: null,
            prev: null,
        };
        if (position === 0) {
            newNode.next = this.#head;
            if (this.#head) {
                this.#head.prev = newNode;
            }
            this.#head = newNode;
        } else {
            const previous = this.getElementAt(position - 1);
            newNode.next = previous.next;
            if (previous.next) {
                previous.next.prev = newNode;
            }
            previous.next = newNode;
            newNode.prev = previous;
        }
    }

    // 删除线性表头部的元素
    shift() {
        return this.removeAt(0);
    }

    // 删除线性表尾部的元素
    pop() {
        return this.removeAt(this.size() - 1);
    }

    // 删除线性表中指定位置的元素
    removeAt(position) {
        if (position >= this.size()) return;
        const deleteNode = this.getElementAt(position);
        if (deleteNode === this.#head) {
            this.#head = deleteNode.next;
            if (this.#head) {
                this.#head.prev = null;
            }
        } else {
            deleteNode.prev.next = deleteNode.next;
            if (deleteNode.next) {
                deleteNode.next.prev = deleteNode.prev;
            }
        }
        return deleteNode.data;
    }

    // 删除线性表中指定元素
    remove(element) {
        const position = this.indexOf(element);
        return this.removeAt(position);
    }

    // 获取线性表头部的元素
    getFirst() {
        return this.getElementAt(0).data;
    }

    // 获取线性表尾部的元素
    getLast() {
        this.getElementAt(this.size() - 1).data;
    }

    // 获取线性表中指定位置的元素
    getElementAt(position) {
        if (position >= this.size()) return;
        let current = this.#head;
        let index = 0;
        while (index < position) {
            current = current.next;
            index++;
        }
        return current;
    }

    // 获取线性表中指定元素的位置
    indexOf(element) {
        let current = this.#head;
        let index = 0;
        while (current) {
            if (current.data === element) {
                return index;
            }
            index++;
            current = current.next;
        }
        return -1;
    }

    // 清空线性表
    clear() {
        this.#head = null;
    }

    // 判断线性表是否为空
    isEmpty() {
        return this.size() === 0;
    }

    // 获取线性表中元素的个数
    size() {
        let count = 0;
        let current = this.#head;
        while (current) {
            count++;
            current = current.next;
        }
        return count;
    }

    // 打印线性表中的元素
    print() {
        let current = this.#head;
        let str = '';
        while (current) {
            str += `${current.data} `;
            current = current.next;
        }
        console.log(str);
    }
}
```
